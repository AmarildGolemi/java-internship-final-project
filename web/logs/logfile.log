2021-12-13 15:52:48.478  INFO 12300 --- [main] c.l.application.TripApplicationTests     : Starting TripApplicationTests using Java 17.0.1 on HP-NOTEBOOK-15 with PID 12300 (started by amari in C:\Users\amari\Desktop\trip-management-system\web)
2021-12-13 15:52:48.501  INFO 12300 --- [main] c.l.application.TripApplicationTests     : No active profile set, falling back to default profiles: default
2021-12-13 15:52:57.483  INFO 12300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-13 15:52:57.818  INFO 12300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 277 ms. Found 4 JPA repository interfaces.
2021-12-13 15:53:02.164  INFO 12300 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-13 15:53:02.658  INFO 12300 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2021-12-13 15:53:03.606  INFO 12300 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-13 15:53:05.192  INFO 12300 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-13 15:53:06.533  INFO 12300 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-13 15:53:07.188  INFO 12300 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-12-13 15:53:10.375  INFO 12300 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-13 15:53:10.392  INFO 12300 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-13 15:53:14.189  WARN 12300 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-13 15:53:19.026  INFO 12300 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e9947af, org.springframework.security.web.context.SecurityContextPersistenceFilter@5bdef8ee, org.springframework.security.web.header.HeaderWriterFilter@765d67dd, org.springframework.security.web.authentication.logout.LogoutFilter@54d116d5, com.lhind.application.security.jwt.JwtUsernameAndPasswordAuthenticationFilter@d60aa4, com.lhind.application.security.jwt.JwtTokenVerifierFilter@30942f54, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79f82fc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fa3bebe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11d557a5, org.springframework.security.web.session.SessionManagementFilter@535adf36, org.springframework.security.web.access.ExceptionTranslationFilter@106387cf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56e9126f]
2021-12-13 15:53:28.335  INFO 12300 --- [main] c.l.application.TripApplicationTests     : Started TripApplicationTests in 41.177 seconds (JVM running for 55.337)
2021-12-13 15:53:29.269  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding suggested departure flights for trip with id: 1 for user: john
2021-12-13 15:53:29.306  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding all flights on trip with id: 1 for user: john
2021-12-13 15:53:29.308  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Retrieving all flights.
2021-12-13 15:53:29.474  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding flight with id: 1 on trip with id: 1 for user: john
2021-12-13 15:53:29.476  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Retrieving flight on the trip.
2021-12-13 15:53:29.483 ERROR 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : No flight with id: 1 found in the trip with id: 1 for user: john
2021-12-13 15:53:29.518  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Adding flight with id: 1 on trip with id: 1 for user: john
2021-12-13 15:53:29.519  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Checking if flight is already added in the trip.
2021-12-13 15:53:29.520 ERROR 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Flight already added to trip.
2021-12-13 15:53:29.532  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Adding flight with id: 1 on trip with id: 1 for user: john
2021-12-13 15:53:29.533  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Checking if flight is already added in the trip.
2021-12-13 15:53:29.534  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Returning added flight.
2021-12-13 15:53:29.551  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding flight with id: 1 on trip with id: 1 for user: john
2021-12-13 15:53:29.552  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Retrieving flight on the trip.
2021-12-13 15:53:29.562  INFO 12300 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding suggested arrival flights for trip with id: 1 for user: john
2021-12-13 15:53:29.990  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username.
2021-12-13 15:53:29.991  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 15:53:29.993  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 15:53:29.993  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Returning user.
2021-12-13 15:53:30.004  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Patching user with username: john.
2021-12-13 15:53:30.005  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 15:53:30.006 ERROR 12300 --- [main] c.l.application.service.UserServiceImpl  : User not found in the database.
2021-12-13 15:53:30.019  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Saving user: com.lhind.application.utility.model.userdto.UserRequestDto@574f89bf.
2021-12-13 15:53:30.021  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Checking if user already exists.
2021-12-13 15:53:30.021 ERROR 12300 --- [main] c.l.application.service.UserServiceImpl  : User already exists.
2021-12-13 15:53:30.036  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Deleting user with username: john
2021-12-13 15:53:30.037  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 15:53:30.037 ERROR 12300 --- [main] c.l.application.service.UserServiceImpl  : User not found in the database.
2021-12-13 15:53:30.046  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user with id: 1
2021-12-13 15:53:30.047  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Returning user.
2021-12-13 15:53:30.056  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Patching user with username: john.
2021-12-13 15:53:30.056  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 15:53:30.057  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 15:53:30.060  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Saving patched user.
2021-12-13 15:53:30.151  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Deleting user with username: john
2021-12-13 15:53:30.151  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 15:53:30.152  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 15:53:30.167  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username.
2021-12-13 15:53:30.168  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 15:53:30.169 ERROR 12300 --- [main] c.l.application.service.UserServiceImpl  : User not found in the database.
2021-12-13 15:53:30.288  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user with id: 1
2021-12-13 15:53:30.289 ERROR 12300 --- [main] c.l.application.service.UserServiceImpl  : User with id: 1 not found
2021-12-13 15:53:30.291  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Patching user with username: john.
2021-12-13 15:53:30.292  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 15:53:30.292  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 15:53:30.292  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Saving patched user.
2021-12-13 15:53:30.296  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Saving user after adding new trip.
2021-12-13 15:53:30.300  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username.
2021-12-13 15:53:30.300  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 15:53:30.301 ERROR 12300 --- [main] c.l.application.service.UserServiceImpl  : User not found in the database.
2021-12-13 15:53:30.304  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username.
2021-12-13 15:53:30.305  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 15:53:30.305  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 15:53:30.305  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Returning user.
2021-12-13 15:53:30.310  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Saving user: com.lhind.application.utility.model.userdto.UserRequestDto@2fe6bcbb.
2021-12-13 15:53:30.310  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Checking if user already exists.
2021-12-13 15:53:30.313  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Finding all users.
2021-12-13 15:53:30.320  WARN 12300 --- [main] c.l.application.service.UserServiceImpl  : Zero users retrieved from the database.
2021-12-13 15:53:30.320  INFO 12300 --- [main] c.l.application.service.UserServiceImpl  : Returning the list of users.
2021-12-13 15:53:30.518  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Updating trip.
2021-12-13 15:53:30.536  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Finding waiting for approval trip with id: 1
2021-12-13 15:53:30.538 ERROR 12300 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 15:53:30.545  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Rejecting trip with id: 1
2021-12-13 15:53:30.546 ERROR 12300 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 15:53:30.553  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Sending trip: com.lhind.application.entity.Trip@58c1da09 for approval.
2021-12-13 15:53:30.564  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Approving trip with id: 1
2021-12-13 15:53:30.574  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Deleting trip: com.lhind.application.entity.Trip@58c1da09
2021-12-13 15:53:30.586  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Patching trip.
2021-12-13 15:53:30.621  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Approving trip with id: 1
2021-12-13 15:53:30.622 ERROR 12300 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 15:53:30.631  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Finding waiting for approval trip with id: 1
2021-12-13 15:53:30.632  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Returning trip.
2021-12-13 15:53:30.639  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Approving trip with id: 1
2021-12-13 15:53:30.640 ERROR 12300 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 15:53:30.649  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Approving trip with id: 1
2021-12-13 15:53:30.650 ERROR 12300 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 15:53:30.656  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Finding all trips waiting for approval.
2021-12-13 15:53:30.658  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Returning list of trips.
2021-12-13 15:53:30.685  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Sending trip: com.lhind.application.entity.Trip@58c1da09 for approval.
2021-12-13 15:53:30.686 ERROR 12300 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: null status is not created.
2021-12-13 15:53:30.714  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Saving trip.
2021-12-13 15:53:30.722  INFO 12300 --- [main] c.l.application.service.TripServiceImpl  : Rejecting trip with id: 1
2021-12-13 15:53:30.750  INFO 12300 --- [main] c.l.a.service.AuthenticationService      : Loading user with username: john
2021-12-13 15:53:30.756 ERROR 12300 --- [main] c.l.a.service.AuthenticationService      : User with username john does not exist.
2021-12-13 15:53:30.829  INFO 12300 --- [main] c.l.a.service.AuthenticationService      : Loading user with username: john
2021-12-13 15:53:30.883  INFO 12300 --- [main] c.l.a.service.AuthenticationService      : Logging user with username: john
2021-12-13 15:53:31.234  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Updating flight with id: 1
2021-12-13 15:53:31.235  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight exists.
2021-12-13 15:53:31.235  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's date and time are valid.
2021-12-13 15:53:31.237  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating both date and times are provided.
2021-12-13 15:53:31.239  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 15:53:31.241  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating time is valid.
2021-12-13 15:53:31.243  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Saving updated flight.
2021-12-13 15:53:31.254  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Updating flight with id: 1
2021-12-13 15:53:31.254  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight exists.
2021-12-13 15:53:31.255 ERROR 12300 --- [main] c.l.a.service.FlightServiceImpl          : No flight found in the database.
2021-12-13 15:53:31.265  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Deleting flight with id: 1
2021-12-13 15:53:31.266  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 15:53:31.270  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Flight found in the database.
2021-12-13 15:53:31.271  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Deleting flight with id: 1.
2021-12-13 15:53:31.279  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Saving flight: com.lhind.application.utility.model.flightdto.FlightRequestDto@7be3baf2
2021-12-13 15:53:31.280  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's date and time are valid.
2021-12-13 15:53:31.280  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating both date and times are provided.
2021-12-13 15:53:31.282  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 15:53:31.284  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating time is valid.
2021-12-13 15:53:31.296  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Finding flight by flight id: 1.
2021-12-13 15:53:31.297  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 15:53:31.297  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Flight found in the database.
2021-12-13 15:53:31.309  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Finding flight by flight id: 1.
2021-12-13 15:53:31.310  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 15:53:31.310 ERROR 12300 --- [main] c.l.a.service.FlightServiceImpl          : No flight found in the database.
2021-12-13 15:53:31.326  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Finding flight by flight id: 1.
2021-12-13 15:53:31.327  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 15:53:31.334  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Flight found in the database.
2021-12-13 15:53:31.355  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 15:53:31.355  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 15:53:31.355 ERROR 12300 --- [main] c.l.a.service.FlightServiceImpl          : One of the dates in not provided to patch.
2021-12-13 15:53:31.363  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 15:53:31.364  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 15:53:31.364  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 15:53:31.364 ERROR 12300 --- [main] c.l.a.service.FlightServiceImpl          : Arrival and departure dates are not valid.
2021-12-13 15:53:31.384  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Finding flight by flight id: 1.
2021-12-13 15:53:31.387  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 15:53:31.388 ERROR 12300 --- [main] c.l.a.service.FlightServiceImpl          : No flight found in the database.
2021-12-13 15:53:31.398  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 15:53:31.399  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 15:53:31.402 ERROR 12300 --- [main] c.l.a.service.FlightServiceImpl          : One of the times in not provided to patch.
2021-12-13 15:53:31.414  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 15:53:31.414  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 15:53:31.414  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 15:53:31.414  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating time is valid.
2021-12-13 15:53:31.414 ERROR 12300 --- [main] c.l.a.service.FlightServiceImpl          : Arrival and departure times are not valid.
2021-12-13 15:53:31.417  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flights from tirana to berlin on date 2021-12-25.
2021-12-13 15:53:31.425  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 15:53:31.426  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 15:53:31.432  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 15:53:31.432  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating time is valid.
2021-12-13 15:53:31.433  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 15:53:31.433  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Flight found in the database.
2021-12-13 15:53:31.433  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Saving patched flight.
2021-12-13 15:53:31.451  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Saving flight: com.lhind.application.utility.model.flightdto.FlightRequestDto@4746b5d
2021-12-13 15:53:31.451  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's date and time are valid.
2021-12-13 15:53:31.451  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Validating both date and times are provided.
2021-12-13 15:53:31.451 ERROR 12300 --- [main] c.l.a.service.FlightServiceImpl          : Arrival and departure dates and times are not provided.
2021-12-13 15:53:31.456  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Finding all flights.
2021-12-13 15:53:31.457  WARN 12300 --- [main] c.l.a.service.FlightServiceImpl          : Zero flights retrieved from the database.
2021-12-13 15:53:31.457  INFO 12300 --- [main] c.l.a.service.FlightServiceImpl          : Returning the list of flights.
2021-12-13 15:53:31.518  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Updating trip: 1 of user with username: john
2021-12-13 15:53:31.519  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's request dates are valid.
2021-12-13 15:53:31.519  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating both dates are provided.
2021-12-13 15:53:31.519  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@58c1da09])
2021-12-13 15:53:31.558  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is created.
2021-12-13 15:53:31.566  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@58c1da09])
2021-12-13 15:53:31.567  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is approved.
2021-12-13 15:53:31.569  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@58c1da09])
2021-12-13 15:53:31.571  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is approved.
2021-12-13 15:53:31.576  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips by filter.
2021-12-13 15:53:31.580  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Find all trips by status: null
2021-12-13 15:53:31.580  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Returning all trips with reason: EVENT
2021-12-13 15:53:31.584  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Patching trip: 1 of user with username: john
2021-12-13 15:53:31.584  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's patch dates are valid.
2021-12-13 15:53:31.584 ERROR 12300 --- [main] c.l.a.service.UserTripServiceImpl        : One of the dates in not provided to patch.
2021-12-13 15:53:31.589  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips by filter.
2021-12-13 15:53:31.590  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Find all trips by reason: null
2021-12-13 15:53:31.590  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Returning all trips with status: CREATED
2021-12-13 15:53:31.607  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Patching trip: 1 of user with username: john
2021-12-13 15:53:31.607  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's patch dates are valid.
2021-12-13 15:53:31.614  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@58c1da09])
2021-12-13 15:53:31.616  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is created.
2021-12-13 15:53:31.630  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips by filter.
2021-12-13 15:53:31.630  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Returning all trips with reason: EVENT and status: CREATED
2021-12-13 15:53:31.635  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Updating trip: 1 of user with username: john
2021-12-13 15:53:31.639  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's request dates are valid.
2021-12-13 15:53:31.647  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating both dates are provided.
2021-12-13 15:53:31.648 ERROR 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Arrival and departure dates are not valid.
2021-12-13 15:53:31.651  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Updating trip: 1 of user with username: john
2021-12-13 15:53:31.651  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's request dates are valid.
2021-12-13 15:53:31.653  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating both dates are provided.
2021-12-13 15:53:31.654 ERROR 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Arrival and departure dates are not provided.
2021-12-13 15:53:31.660  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Deleting trip: 1 of user with username: john
2021-12-13 15:53:31.661  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@58c1da09])
2021-12-13 15:53:31.661  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is created.
2021-12-13 15:53:31.666  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Updating trip: 1 of user with username: john
2021-12-13 15:53:31.666  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's request dates are valid.
2021-12-13 15:53:31.666  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating both dates are provided.
2021-12-13 15:53:31.666  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[])
2021-12-13 15:53:31.667 ERROR 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Trip: 1 of user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[]) is not valid.
2021-12-13 15:53:31.682  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[])
2021-12-13 15:53:31.682 ERROR 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Trip: 1 of user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[]) is not valid.
2021-12-13 15:53:31.686  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Adding trip: com.lhind.application.utility.model.tripdto.TripRequestDto@3c832820 to user with username: john
2021-12-13 15:53:31.724  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Checking if trip already exists.
2021-12-13 15:53:31.725 ERROR 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Trip: com.lhind.application.entity.Trip@58c1da09 already exists.
2021-12-13 15:53:31.729  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Sending trip: 1 of user with username: john for approval.
2021-12-13 15:53:31.729  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@58c1da09])
2021-12-13 15:53:31.729  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is created.
2021-12-13 15:53:31.733  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Patching trip: 1 of user with username: john
2021-12-13 15:53:31.734  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's patch dates are valid.
2021-12-13 15:53:31.734 ERROR 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Arrival and departure dates are not valid.
2021-12-13 15:53:31.804  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips for user with username: john
2021-12-13 15:53:31.805  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Retrieving trips.
2021-12-13 15:53:31.811  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips by filter.
2021-12-13 15:53:31.818  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Adding trip: com.lhind.application.utility.model.tripdto.TripRequestDto@139e291e to user with username: john
2021-12-13 15:53:31.819  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Checking if trip already exists.
2021-12-13 15:53:31.820  INFO 12300 --- [main] c.l.a.service.UserTripServiceImpl        : Returning saved trip: null
2021-12-13 15:53:31.830  INFO 12300 --- [main] c.l.a.s.AuthenticatedUserServiceImpl     : Getting logged username.
2021-12-13 15:53:31.831  INFO 12300 --- [main] c.l.a.s.AuthenticatedUserServiceImpl     : Logged user with username 'john' is accessing the endpoint.
2021-12-13 15:53:31.840  INFO 12300 --- [main] c.l.a.s.AuthenticatedUserServiceImpl     : Getting logged username.
2021-12-13 15:53:31.840 ERROR 12300 --- [main] c.l.a.s.AuthenticatedUserServiceImpl     : User is not logged in.
2021-12-13 15:53:31.901  INFO 12300 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-13 15:53:31.925  INFO 12300 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-13 15:53:32.012  INFO 12300 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-13 15:54:23.553  INFO 13956 --- [main] c.l.application.TripApplicationTests     : Starting TripApplicationTests using Java 17.0.1 on HP-NOTEBOOK-15 with PID 13956 (started by amari in C:\Users\amari\Desktop\trip-management-system\web)
2021-12-13 15:54:23.553  INFO 13956 --- [main] c.l.application.TripApplicationTests     : No active profile set, falling back to default profiles: default
2021-12-13 15:54:29.627  INFO 13956 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-13 15:54:30.011  INFO 13956 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 348 ms. Found 4 JPA repository interfaces.
2021-12-13 15:54:34.578  INFO 13956 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-13 15:54:34.778  INFO 13956 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2021-12-13 15:54:35.713  INFO 13956 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-13 15:54:40.861  INFO 13956 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-13 15:54:46.712  INFO 13956 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-13 15:54:47.606  INFO 13956 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-12-13 15:54:51.712  INFO 13956 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-13 15:54:51.727  INFO 13956 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-13 15:54:55.444  WARN 13956 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-13 16:45:08.286  INFO 11216 --- [main] c.l.application.TripApplicationTests     : Starting TripApplicationTests using Java 17.0.1 on HP-NOTEBOOK-15 with PID 11216 (started by amari in C:\Users\amari\Desktop\trip-management-system\web)
2021-12-13 16:45:08.318  INFO 11216 --- [main] c.l.application.TripApplicationTests     : No active profile set, falling back to default profiles: default
2021-12-13 16:45:14.951  INFO 11216 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-13 16:45:15.232  INFO 11216 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 237 ms. Found 4 JPA repository interfaces.
2021-12-13 16:45:18.372  INFO 11216 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-13 16:45:18.637  INFO 11216 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2021-12-13 16:45:19.414  INFO 11216 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-13 16:45:21.398  INFO 11216 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-13 16:45:22.725  INFO 11216 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-13 16:45:22.882  INFO 11216 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-12-13 16:45:26.890  INFO 11216 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-13 16:45:26.921  INFO 11216 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-13 16:45:29.735  WARN 11216 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-13 16:45:33.437  INFO 11216 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f113867, org.springframework.security.web.context.SecurityContextPersistenceFilter@7df994ec, org.springframework.security.web.header.HeaderWriterFilter@7569bc9f, org.springframework.security.web.authentication.logout.LogoutFilter@60a4595e, com.lhind.application.security.jwt.JwtUsernameAndPasswordAuthenticationFilter@72cf159f, com.lhind.application.security.jwt.JwtTokenVerifierFilter@54af9cce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c79a7c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b6637f3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@683218c8, org.springframework.security.web.session.SessionManagementFilter@10ecf244, org.springframework.security.web.access.ExceptionTranslationFilter@628d6320, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50cadbae]
2021-12-13 16:45:38.308  INFO 11216 --- [main] c.l.application.TripApplicationTests     : Started TripApplicationTests in 31.704 seconds (JVM running for 40.591)
2021-12-13 16:45:38.573  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Saving user: com.lhind.application.utility.model.userdto.UserRequestDto@368617cd.
2021-12-13 16:45:38.839  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Checking if user already exists.
2021-12-13 16:45:39.042 ERROR 11216 --- [main] c.l.application.service.UserServiceImpl  : User already exists.
2021-12-13 16:45:39.057  INFO 11216 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-13 16:45:39.136 ERROR 11216 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-2.6.1.jar:2.6.1]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.13.jar:5.3.13]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.lhind.application.exception.BadRequestException: User already exists.
	at com.lhind.application.service.UserServiceImpl.checkUserAlreadyExists(UserServiceImpl.java:115) ~[classes/:na]
	at com.lhind.application.service.UserServiceImpl.save(UserServiceImpl.java:96) ~[classes/:na]
	at com.lhind.application.service.UserServiceImpl$$FastClassBySpringCGLIB$$4ccd5dfb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.13.jar:5.3.13]
	at com.lhind.application.service.UserServiceImpl$$EnhancerBySpringCGLIB$$dd0ecb3a.save(<generated>) ~[classes/:na]
	at com.lhind.application.TripApplication.createUsers(TripApplication.java:62) ~[classes/:na]
	at com.lhind.application.TripApplication.lambda$run$0(TripApplication.java:36) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-2.6.1.jar:2.6.1]
	... 76 common frames omitted

2021-12-13 16:45:39.167  INFO 11216 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-13 16:45:39.167  INFO 11216 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-13 16:45:39.198  INFO 11216 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-13 16:45:39.198 ERROR 11216 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@56113384] to prepare test instance [com.lhind.application.TripApplicationTests@beac39c]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.13.jar:5.3.13]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-2.6.1.jar:2.6.1]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.13.jar:5.3.13]
	... 71 common frames omitted
Caused by: com.lhind.application.exception.BadRequestException: User already exists.
	at com.lhind.application.service.UserServiceImpl.checkUserAlreadyExists(UserServiceImpl.java:115) ~[classes/:na]
	at com.lhind.application.service.UserServiceImpl.save(UserServiceImpl.java:96) ~[classes/:na]
	at com.lhind.application.service.UserServiceImpl$$FastClassBySpringCGLIB$$4ccd5dfb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.13.jar:5.3.13]
	at com.lhind.application.service.UserServiceImpl$$EnhancerBySpringCGLIB$$dd0ecb3a.save(<generated>) ~[classes/:na]
	at com.lhind.application.TripApplication.createUsers(TripApplication.java:62) ~[classes/:na]
	at com.lhind.application.TripApplication.lambda$run$0(TripApplication.java:36) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-2.6.1.jar:2.6.1]
	... 76 common frames omitted

2021-12-13 16:45:41.325  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding suggested departure flights for trip with id: 1 for user: john
2021-12-13 16:45:41.372  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding all flights on trip with id: 1 for user: john
2021-12-13 16:45:41.372  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Retrieving all flights.
2021-12-13 16:45:41.560  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding flight with id: 1 on trip with id: 1 for user: john
2021-12-13 16:45:41.560  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Retrieving flight on the trip.
2021-12-13 16:45:41.560 ERROR 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : No flight with id: 1 found in the trip with id: 1 for user: john
2021-12-13 16:45:41.607  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Adding flight with id: 1 on trip with id: 1 for user: john
2021-12-13 16:45:41.607  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Checking if flight is already added in the trip.
2021-12-13 16:45:41.607 ERROR 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Flight already added to trip.
2021-12-13 16:45:41.622  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Adding flight with id: 1 on trip with id: 1 for user: john
2021-12-13 16:45:41.622  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Checking if flight is already added in the trip.
2021-12-13 16:45:41.622  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Returning added flight.
2021-12-13 16:45:41.638  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding flight with id: 1 on trip with id: 1 for user: john
2021-12-13 16:45:41.638  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Retrieving flight on the trip.
2021-12-13 16:45:41.653  INFO 11216 --- [main] c.l.a.service.TripFlightServiceImpl      : Finding suggested arrival flights for trip with id: 1 for user: john
2021-12-13 16:45:42.138  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username.
2021-12-13 16:45:42.138  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 16:45:42.138  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 16:45:42.138  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Returning user.
2021-12-13 16:45:42.153  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Patching user with username: john.
2021-12-13 16:45:42.153  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 16:45:42.153 ERROR 11216 --- [main] c.l.application.service.UserServiceImpl  : User not found in the database.
2021-12-13 16:45:42.169  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Saving user: com.lhind.application.utility.model.userdto.UserRequestDto@7b5f886d.
2021-12-13 16:45:42.169  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Checking if user already exists.
2021-12-13 16:45:42.169 ERROR 11216 --- [main] c.l.application.service.UserServiceImpl  : User already exists.
2021-12-13 16:45:42.184  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Deleting user with username: john
2021-12-13 16:45:42.184  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 16:45:42.184 ERROR 11216 --- [main] c.l.application.service.UserServiceImpl  : User not found in the database.
2021-12-13 16:45:42.200  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user with id: 1
2021-12-13 16:45:42.200  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Returning user.
2021-12-13 16:45:42.200  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Patching user with username: john.
2021-12-13 16:45:42.200  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 16:45:42.216  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 16:45:42.216  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Saving patched user.
2021-12-13 16:45:42.231  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Deleting user with username: john
2021-12-13 16:45:42.231  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 16:45:42.231  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 16:45:42.247  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username.
2021-12-13 16:45:42.247  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 16:45:42.247 ERROR 11216 --- [main] c.l.application.service.UserServiceImpl  : User not found in the database.
2021-12-13 16:45:42.263  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user with id: 1
2021-12-13 16:45:42.263 ERROR 11216 --- [main] c.l.application.service.UserServiceImpl  : User with id: 1 not found
2021-12-13 16:45:42.278  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Patching user with username: john.
2021-12-13 16:45:42.278  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 16:45:42.278  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 16:45:42.278  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Saving patched user.
2021-12-13 16:45:42.278  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Saving user after adding new trip.
2021-12-13 16:45:42.309  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username.
2021-12-13 16:45:42.309  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 16:45:42.309 ERROR 11216 --- [main] c.l.application.service.UserServiceImpl  : User not found in the database.
2021-12-13 16:45:42.309  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username.
2021-12-13 16:45:42.309  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding user by username in the database.
2021-12-13 16:45:42.325  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Retrieving user.
2021-12-13 16:45:42.325  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Returning user.
2021-12-13 16:45:42.341  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Saving user: com.lhind.application.utility.model.userdto.UserRequestDto@14c5625d.
2021-12-13 16:45:42.341  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Checking if user already exists.
2021-12-13 16:45:42.356  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Finding all users.
2021-12-13 16:45:42.356  WARN 11216 --- [main] c.l.application.service.UserServiceImpl  : Zero users retrieved from the database.
2021-12-13 16:45:42.356  INFO 11216 --- [main] c.l.application.service.UserServiceImpl  : Returning the list of users.
2021-12-13 16:45:42.559  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Updating trip.
2021-12-13 16:45:42.559  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Finding waiting for approval trip with id: 1
2021-12-13 16:45:42.559 ERROR 11216 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 16:45:42.559  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Rejecting trip with id: 1
2021-12-13 16:45:42.559 ERROR 11216 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 16:45:42.575  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Sending trip: com.lhind.application.entity.Trip@46e190ed for approval.
2021-12-13 16:45:42.575  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Approving trip with id: 1
2021-12-13 16:45:42.591  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Deleting trip: com.lhind.application.entity.Trip@46e190ed
2021-12-13 16:45:42.591  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Patching trip.
2021-12-13 16:45:42.606  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Approving trip with id: 1
2021-12-13 16:45:42.606 ERROR 11216 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 16:45:42.606  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Finding waiting for approval trip with id: 1
2021-12-13 16:45:42.606  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Returning trip.
2021-12-13 16:45:42.622  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Approving trip with id: 1
2021-12-13 16:45:42.622 ERROR 11216 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 16:45:42.622  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Approving trip with id: 1
2021-12-13 16:45:42.637 ERROR 11216 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: 1 not found.
2021-12-13 16:45:42.637  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Finding all trips waiting for approval.
2021-12-13 16:45:42.637  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Returning list of trips.
2021-12-13 16:45:42.637  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Sending trip: com.lhind.application.entity.Trip@46e190ed for approval.
2021-12-13 16:45:42.637 ERROR 11216 --- [main] c.l.application.service.TripServiceImpl  : Trip with id: null status is not created.
2021-12-13 16:45:42.653  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Saving trip.
2021-12-13 16:45:42.653  INFO 11216 --- [main] c.l.application.service.TripServiceImpl  : Rejecting trip with id: 1
2021-12-13 16:45:42.669  INFO 11216 --- [main] c.l.a.service.AuthenticationService      : Loading user with username: john
2021-12-13 16:45:42.669 ERROR 11216 --- [main] c.l.a.service.AuthenticationService      : User with username john does not exist.
2021-12-13 16:45:42.684  INFO 11216 --- [main] c.l.a.service.AuthenticationService      : Loading user with username: john
2021-12-13 16:45:42.684  INFO 11216 --- [main] c.l.a.service.AuthenticationService      : Logging user with username: john
2021-12-13 16:45:42.887  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Updating flight with id: 1
2021-12-13 16:45:42.887  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight exists.
2021-12-13 16:45:42.887  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's date and time are valid.
2021-12-13 16:45:42.887  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating both date and times are provided.
2021-12-13 16:45:42.887  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 16:45:42.887  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating time is valid.
2021-12-13 16:45:42.887  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Saving updated flight.
2021-12-13 16:45:42.887  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Updating flight with id: 1
2021-12-13 16:45:42.887  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight exists.
2021-12-13 16:45:42.887 ERROR 11216 --- [main] c.l.a.service.FlightServiceImpl          : No flight found in the database.
2021-12-13 16:45:42.903  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Deleting flight with id: 1
2021-12-13 16:45:42.903  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 16:45:42.903  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Flight found in the database.
2021-12-13 16:45:42.903  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Deleting flight with id: 1.
2021-12-13 16:45:42.919  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Saving flight: com.lhind.application.utility.model.flightdto.FlightRequestDto@50ca509b
2021-12-13 16:45:42.919  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's date and time are valid.
2021-12-13 16:45:42.919  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating both date and times are provided.
2021-12-13 16:45:42.919  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 16:45:42.934  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating time is valid.
2021-12-13 16:45:42.934  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Finding flight by flight id: 1.
2021-12-13 16:45:42.934  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 16:45:42.950  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Flight found in the database.
2021-12-13 16:45:42.965  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Finding flight by flight id: 1.
2021-12-13 16:45:42.965  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 16:45:42.965 ERROR 11216 --- [main] c.l.a.service.FlightServiceImpl          : No flight found in the database.
2021-12-13 16:45:42.981  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Finding flight by flight id: 1.
2021-12-13 16:45:42.981  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 16:45:42.981  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Flight found in the database.
2021-12-13 16:45:42.981  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 16:45:42.981  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 16:45:42.981 ERROR 11216 --- [main] c.l.a.service.FlightServiceImpl          : One of the dates in not provided to patch.
2021-12-13 16:45:42.997  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 16:45:42.997  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 16:45:42.997  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 16:45:42.997 ERROR 11216 --- [main] c.l.a.service.FlightServiceImpl          : Arrival and departure dates are not valid.
2021-12-13 16:45:42.997  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Finding flight by flight id: 1.
2021-12-13 16:45:42.997  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 16:45:42.997 ERROR 11216 --- [main] c.l.a.service.FlightServiceImpl          : No flight found in the database.
2021-12-13 16:45:43.044  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 16:45:43.044  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 16:45:43.044 ERROR 11216 --- [main] c.l.a.service.FlightServiceImpl          : One of the times in not provided to patch.
2021-12-13 16:45:43.044  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 16:45:43.044  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 16:45:43.044  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 16:45:43.044  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating time is valid.
2021-12-13 16:45:43.044 ERROR 11216 --- [main] c.l.a.service.FlightServiceImpl          : Arrival and departure times are not valid.
2021-12-13 16:45:43.075  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flights from tirana to berlin on date 2021-12-25.
2021-12-13 16:45:43.075  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Patching flight with id: 1
2021-12-13 16:45:43.075  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's patch date and time are valid.
2021-12-13 16:45:43.090  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating dates are valid.
2021-12-13 16:45:43.090  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating time is valid.
2021-12-13 16:45:43.090  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Retrieving flight.
2021-12-13 16:45:43.090  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Flight found in the database.
2021-12-13 16:45:43.090  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Saving patched flight.
2021-12-13 16:45:43.122  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Saving flight: com.lhind.application.utility.model.flightdto.FlightRequestDto@75910e0e
2021-12-13 16:45:43.122  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating flight's date and time are valid.
2021-12-13 16:45:43.122  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Validating both date and times are provided.
2021-12-13 16:45:43.122 ERROR 11216 --- [main] c.l.a.service.FlightServiceImpl          : Arrival and departure dates and times are not provided.
2021-12-13 16:45:43.169  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Finding all flights.
2021-12-13 16:45:43.169  WARN 11216 --- [main] c.l.a.service.FlightServiceImpl          : Zero flights retrieved from the database.
2021-12-13 16:45:43.169  INFO 11216 --- [main] c.l.a.service.FlightServiceImpl          : Returning the list of flights.
2021-12-13 16:45:43.231  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Updating trip: 1 of user with username: john
2021-12-13 16:45:43.262  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's request dates are valid.
2021-12-13 16:45:43.262  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating both dates are provided.
2021-12-13 16:45:43.262  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@46e190ed])
2021-12-13 16:45:43.372  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is created.
2021-12-13 16:45:43.387  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@46e190ed])
2021-12-13 16:45:43.387  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is approved.
2021-12-13 16:45:43.387  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@46e190ed])
2021-12-13 16:45:43.387  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is approved.
2021-12-13 16:45:43.403  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips by filter.
2021-12-13 16:45:43.418  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Find all trips by status: null
2021-12-13 16:45:43.418  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Returning all trips with reason: EVENT
2021-12-13 16:45:43.418  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Patching trip: 1 of user with username: john
2021-12-13 16:45:43.434  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's patch dates are valid.
2021-12-13 16:45:43.434 ERROR 11216 --- [main] c.l.a.service.UserTripServiceImpl        : One of the dates in not provided to patch.
2021-12-13 16:45:43.434  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips by filter.
2021-12-13 16:45:43.434  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Find all trips by reason: null
2021-12-13 16:45:43.434  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Returning all trips with status: CREATED
2021-12-13 16:45:43.465  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Patching trip: 1 of user with username: john
2021-12-13 16:45:43.465  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's patch dates are valid.
2021-12-13 16:45:43.465  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@46e190ed])
2021-12-13 16:45:43.465  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is created.
2021-12-13 16:45:43.481  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips by filter.
2021-12-13 16:45:43.481  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Returning all trips with reason: EVENT and status: CREATED
2021-12-13 16:45:43.481  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Updating trip: 1 of user with username: john
2021-12-13 16:45:43.481  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's request dates are valid.
2021-12-13 16:45:43.481  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating both dates are provided.
2021-12-13 16:45:43.481 ERROR 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Arrival and departure dates are not valid.
2021-12-13 16:45:43.497  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Updating trip: 1 of user with username: john
2021-12-13 16:45:43.497  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's request dates are valid.
2021-12-13 16:45:43.497  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating both dates are provided.
2021-12-13 16:45:43.497 ERROR 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Arrival and departure dates are not provided.
2021-12-13 16:45:43.497  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Deleting trip: 1 of user with username: john
2021-12-13 16:45:43.512  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@46e190ed])
2021-12-13 16:45:43.512  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is created.
2021-12-13 16:45:43.512  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Updating trip: 1 of user with username: john
2021-12-13 16:45:43.512  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's request dates are valid.
2021-12-13 16:45:43.512  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating both dates are provided.
2021-12-13 16:45:43.512  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[])
2021-12-13 16:45:43.512 ERROR 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Trip: 1 of user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[]) is not valid.
2021-12-13 16:45:43.621  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[])
2021-12-13 16:45:43.621 ERROR 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Trip: 1 of user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[]) is not valid.
2021-12-13 16:45:43.621  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Adding trip: com.lhind.application.utility.model.tripdto.TripRequestDto@61b5c8a3 to user with username: john
2021-12-13 16:45:43.621  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Checking if trip already exists.
2021-12-13 16:45:43.621 ERROR 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Trip: com.lhind.application.entity.Trip@46e190ed already exists.
2021-12-13 16:45:43.637  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Sending trip: 1 of user with username: john for approval.
2021-12-13 16:45:43.637  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Getting trip: 1 from user: User(id=null, firstName=null, lastName=null, username=null, password=null, isDeleted=false, roles=[], trips=[com.lhind.application.entity.Trip@46e190ed])
2021-12-13 16:45:43.637  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trip exists and status is created.
2021-12-13 16:45:43.653  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Patching trip: 1 of user with username: john
2021-12-13 16:45:43.653  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Validating trips's patch dates are valid.
2021-12-13 16:45:43.653 ERROR 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Arrival and departure dates are not valid.
2021-12-13 16:45:43.668  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips for user with username: john
2021-12-13 16:45:43.668  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Retrieving trips.
2021-12-13 16:45:43.668  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Finding all trips by filter.
2021-12-13 16:45:43.684  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Adding trip: com.lhind.application.utility.model.tripdto.TripRequestDto@7cb8109 to user with username: john
2021-12-13 16:45:43.684  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Checking if trip already exists.
2021-12-13 16:45:43.684  INFO 11216 --- [main] c.l.a.service.UserTripServiceImpl        : Returning saved trip: null
2021-12-13 16:45:43.700  INFO 11216 --- [main] c.l.a.s.AuthenticatedUserServiceImpl     : Getting logged username.
2021-12-13 16:45:43.700  INFO 11216 --- [main] c.l.a.s.AuthenticatedUserServiceImpl     : Logged user with username 'john' is accessing the endpoint.
2021-12-13 16:45:43.715  INFO 11216 --- [main] c.l.a.s.AuthenticatedUserServiceImpl     : Getting logged username.
2021-12-13 16:45:43.715 ERROR 11216 --- [main] c.l.a.s.AuthenticatedUserServiceImpl     : User is not logged in.
2021-12-13 16:46:46.853  INFO 16076 --- [main] c.l.application.TripApplicationTests     : Starting TripApplicationTests using Java 17.0.1 on HP-NOTEBOOK-15 with PID 16076 (started by amari in C:\Users\amari\Desktop\trip-management-system\web)
2021-12-13 16:46:46.853  INFO 16076 --- [main] c.l.application.TripApplicationTests     : No active profile set, falling back to default profiles: default
2021-12-13 16:46:50.148  INFO 16076 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-13 16:46:50.336  INFO 16076 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 166 ms. Found 4 JPA repository interfaces.
2021-12-13 16:46:52.194  INFO 16076 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-13 16:46:52.319  INFO 16076 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2021-12-13 16:46:52.694  INFO 16076 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-13 16:46:53.163  INFO 16076 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-13 16:46:53.881  INFO 16076 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-13 16:46:53.960  INFO 16076 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-12-13 16:46:56.311  INFO 16076 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-13 16:46:56.327  INFO 16076 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-13 16:46:58.573  WARN 16076 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-13 16:47:00.700  INFO 16076 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7715d43c, org.springframework.security.web.context.SecurityContextPersistenceFilter@757ad227, org.springframework.security.web.header.HeaderWriterFilter@7c6557da, org.springframework.security.web.authentication.logout.LogoutFilter@74fda9ed, com.lhind.application.security.jwt.JwtUsernameAndPasswordAuthenticationFilter@3763aafd, com.lhind.application.security.jwt.JwtTokenVerifierFilter@16ca4532, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c1b10f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1267adbe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cc82c83, org.springframework.security.web.session.SessionManagementFilter@d91e8c7, org.springframework.security.web.access.ExceptionTranslationFilter@4778c085, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d3c14c3]
2021-12-13 16:47:03.793  INFO 16076 --- [main] c.l.application.TripApplicationTests     : Started TripApplicationTests in 18.001 seconds (JVM running for 22.164)
2021-12-13 16:47:03.949  INFO 16076 --- [main] c.l.application.service.UserServiceImpl  : Saving user: com.lhind.application.utility.model.userdto.UserRequestDto@2f341732.
2021-12-13 16:47:04.121  INFO 16076 --- [main] c.l.application.service.UserServiceImpl  : Checking if user already exists.
2021-12-13 16:47:04.231 ERROR 16076 --- [main] c.l.application.service.UserServiceImpl  : User already exists.
2021-12-13 16:47:04.246  INFO 16076 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-13 16:47:04.293 ERROR 16076 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-2.6.1.jar:2.6.1]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.13.jar:5.3.13]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.lhind.application.exception.BadRequestException: User already exists.
	at com.lhind.application.service.UserServiceImpl.checkUserAlreadyExists(UserServiceImpl.java:115) ~[classes/:na]
	at com.lhind.application.service.UserServiceImpl.save(UserServiceImpl.java:96) ~[classes/:na]
	at com.lhind.application.service.UserServiceImpl$$FastClassBySpringCGLIB$$4ccd5dfb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.13.jar:5.3.13]
	at com.lhind.application.service.UserServiceImpl$$EnhancerBySpringCGLIB$$ddffb8c.save(<generated>) ~[classes/:na]
	at com.lhind.application.TripApplication.createUsers(TripApplication.java:62) ~[classes/:na]
	at com.lhind.application.TripApplication.lambda$run$0(TripApplication.java:36) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-2.6.1.jar:2.6.1]
	... 76 common frames omitted

2021-12-13 16:47:04.324  INFO 16076 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-13 16:47:04.324  INFO 16076 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-13 16:47:04.543  INFO 16076 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-13 16:47:04.543 ERROR 16076 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@16eccb2e] to prepare test instance [com.lhind.application.TripApplicationTests@7536ef0f]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.13.jar:5.3.13]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.8.1.jar:1.8.1]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-2.6.1.jar:2.6.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-2.6.1.jar:2.6.1]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.13.jar:5.3.13]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.13.jar:5.3.13]
	... 71 common frames omitted
Caused by: com.lhind.application.exception.BadRequestException: User already exists.
	at com.lhind.application.service.UserServiceImpl.checkUserAlreadyExists(UserServiceImpl.java:115) ~[classes/:na]
	at com.lhind.application.service.UserServiceImpl.save(UserServiceImpl.java:96) ~[classes/:na]
	at com.lhind.application.service.UserServiceImpl$$FastClassBySpringCGLIB$$4ccd5dfb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.13.jar:5.3.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.13.jar:5.3.13]
	at com.lhind.application.service.UserServiceImpl$$EnhancerBySpringCGLIB$$ddffb8c.save(<generated>) ~[classes/:na]
	at com.lhind.application.TripApplication.createUsers(TripApplication.java:62) ~[classes/:na]
	at com.lhind.application.TripApplication.lambda$run$0(TripApplication.java:36) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-2.6.1.jar:2.6.1]
	... 76 common frames omitted

2021-12-13 16:47:57.012  INFO 9592 --- [main] c.l.application.TripApplicationTests     : Starting TripApplicationTests using Java 17.0.1 on HP-NOTEBOOK-15 with PID 9592 (started by amari in C:\Users\amari\Desktop\trip-management-system\web)
2021-12-13 16:47:57.028  INFO 9592 --- [main] c.l.application.TripApplicationTests     : No active profile set, falling back to default profiles: default
2021-12-13 16:48:00.960  INFO 9592 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-13 16:48:01.647  INFO 9592 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 648 ms. Found 4 JPA repository interfaces.
2021-12-13 16:48:09.185  INFO 9592 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-13 16:48:09.703  INFO 9592 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2021-12-13 16:48:10.612  INFO 9592 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-13 16:48:12.203  INFO 9592 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-13 16:48:14.137  INFO 9592 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-13 16:48:14.201  INFO 9592 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-12-13 16:48:17.175  INFO 9592 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-13 16:48:17.199  INFO 9592 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-13 16:48:19.748  WARN 9592 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-13 16:48:28.391  INFO 9592 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c69b396, org.springframework.security.web.context.SecurityContextPersistenceFilter@3aae9e8f, org.springframework.security.web.header.HeaderWriterFilter@16a78700, org.springframework.security.web.authentication.logout.LogoutFilter@757ad227, com.lhind.application.security.jwt.JwtUsernameAndPasswordAuthenticationFilter@49314684, com.lhind.application.security.jwt.JwtTokenVerifierFilter@4d5d945d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d50f682, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ad13be4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60c33609, org.springframework.security.web.session.SessionManagementFilter@2b4675db, org.springframework.security.web.access.ExceptionTranslationFilter@4250b0c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@435a4d2d]
2021-12-13 16:48:32.162  INFO 9592 --- [main] c.l.application.TripApplicationTests     : Started TripApplicationTests in 36.781 seconds (JVM running for 41.226)
2021-12-13 16:48:32.862  INFO 9592 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-13 16:48:32.877  INFO 9592 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-13 16:48:32.936  INFO 9592 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
